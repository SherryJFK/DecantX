(function(d){class c extends HTMLElement{constructor(){super();this.factor=0;setTimeout(()=>{this.init()},0)}init(){this.image=this.querySelector("[data-parallax-image]");this.direction=this.dataset.direction||"to_top";this.imageAspectRatio=this.image.dataset.aspectRatio;this.calculateSize();this.calculateScroll();window.addEventListener("theme.resize",()=>{this.calculateSize();this.calculateScroll()});window.addEventListener("scroll",()=>{this.calculateScroll()});this.classList.add("parallax--init")}calculateSize(){const a=
this.getBoundingClientRect(),b=a.width/this.imageAspectRatio;this.imageStroke=b-a.height;this.factorBody=b/100*this.factor;this.scrollStroke=window.innerHeight+a.height;this.imageScrollRatio=(this.imageStroke+2*this.factorBody)/this.scrollStroke}calculateScroll(){if(0<this.imageStroke){this.classList.add("parallax--moved-image");const a=this.getBoundingClientRect();let b=a.bottom*this.imageScrollRatio;"to_top"===this.direction&&(b=this.imageStroke-b);a.bottom>=this.factorBody&&a.bottom<=this.scrollStroke-
this.factorBody&&(this.image.style.transform=`translateY(${-1*b+this.factorBody}px)`)}else this.classList.add("parallax--moved-image"),this.image.removeAttribute("style")}}theme.AssetsLoader.onPageLoaded(function(){customElements.define("parallax-element",c)})})(jQueryTheme);
